#material
Count vsmID: -1
#localsize 8 8 1
#compute debug
#include "../../lib/VirtualShadowMap_Def.hmat"

DEF_MAT_BEGIN
uniform int vsmID;
DEF_MAT_END

RWTexture2D<float4> outBuffer;

[numthreads(LOCAL_SIZE_X, LOCAL_SIZE_Y, LOCAL_SIZE_Z)]
void main(uint2 pixel : SV_DispatchThreadID)
{
	if (any(pixel >= camData.viewSize) || vsmID < 0)
        return;
    float3 outColor = float3(1, 0, 1);
    float3 backColor = float3(0, 0, 0);
    float2 uv = pixel / min(camData.viewSize.x, camData.viewSize.y);

    VSMProjData projData = getVSMProjData(vsmID);
    if (projData.lightType != VSM_DirectLight)
        outColor = backColor;
    else {
        
    }
}